{% extends "base.html" %}

{% block title %}Edit Role | NT TACACS+{% endblock %}
{% block header %}Edit Role: {{ role.name }}{% endblock %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="flash-container">
    {% for category, message in messages %}
      <div class="flash flash-{{ category }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}
{% endwith %}

<section class="section">
  <h2 class="section-title">Edit Role / Privilege Profile</h2>

  <form method="post" class="form-card">
    <div class="form-grid">
      <div class="form-row">
        <label>Role name (แก้ไม่ได้)</label>
        <input class="input" type="text" value="{{ role.name }}" disabled>
      </div>

      <div class="form-row">
        <label for="privilege">Privilege</label>
        <input class="input" id="privilege" type="text" name="privilege"
               value="{{ role.privilege or '' }}"
               placeholder="เช่น 1 (read-only), 15 (full)">
      </div>

      <div class="form-row">
        <label for="description">Description</label>
        <input class="input" id="description" type="text" name="description"
               value="{{ role.description or '' }}"
               placeholder="คำอธิบายบทบาท เช่น Engineer / Operator / View-only">
      </div>
    </div>

    <div style="display:flex; gap:0.75rem; margin-top:0.75rem;">
      <button type="submit" class="btn btn-primary">Save</button>
      <a href="{{ url_for('users.index') }}" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</section>

{% endblock %}
